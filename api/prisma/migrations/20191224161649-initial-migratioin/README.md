# Migration `20191224161649-initial-migratioin`

This migration has been generated by Peter Pistorius at 12/24/2019, 4:16:49 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "quaint"."Post" (
  "author" TEXT NOT NULL DEFAULT ''  ,
  "body" TEXT NOT NULL DEFAULT ''  ,
  "id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT ,
  "image" TEXT    ,
  "postedAt" DATE    ,
  "slug" TEXT NOT NULL DEFAULT ''  ,
  "title" TEXT NOT NULL DEFAULT ''  
);

CREATE TABLE "quaint"."Tag" (
  "id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT ,
  "name" TEXT NOT NULL DEFAULT ''  
);

CREATE TABLE "quaint"."User" (
  "email" TEXT NOT NULL DEFAULT ''  ,
  "id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT ,
  "isAdmin" BOOLEAN NOT NULL DEFAULT false  ,
  "name" TEXT    
);

CREATE TABLE "quaint"."_PostToTag" (
  "A" INTEGER NOT NULL   REFERENCES "Post"(id) ON DELETE CASCADE,
  "B" INTEGER NOT NULL   REFERENCES "Tag"(id) ON DELETE CASCADE
);

CREATE UNIQUE INDEX "quaint"."Post.slug" ON "Post"("slug")

CREATE UNIQUE INDEX "quaint"."Tag.name" ON "Tag"("name")

CREATE UNIQUE INDEX "quaint"."User.email" ON "User"("email")

CREATE UNIQUE INDEX "quaint"."_PostToTag_AB_unique" ON "_PostToTag"("A","B")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20191224161649-initial-migratioin
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,35 @@
+datasource hammerDatasource {
+  provider = "sqlite"
+  url = "file:./dev.db"
+}
+
+generator photonjs {
+  provider = "photonjs"
+}
+
+// Define your own models here and run yarn db:save to create
+// migrations for them.
+
+model Post {
+  id Int @id @default(autoincrement())
+  title String
+  slug String @unique
+  author String
+  body String
+  image String?
+  tags Tag[]
+  postedAt DateTime?
+}
+
+model Tag {
+  id Int @id @default(autoincrement())
+  name String @unique
+  posts Post[]
+}
+
+model User {
+  id Int @id @default(autoincrement())
+  name String?
+  email String @unique
+  isAdmin Boolean @default(false)
+}
```


